<ion-grid>
  <ion-col class="ion-padding-top ion-align-self-end">
    <ion-row class="ion-justify-items-center ion-align-items-end">
      <ion-col size-xs="11">
        <div class="rcorners">
          <div class="ion-text-center subscription-header">
            <h2>Create New Subscription</h2>
          </div>
          <div>
            <form [formGroup]="form" (ngSubmit)="onSubmit(form)">
              <div class="form-content">
                <ion-item>
                  <ion-input formControlName="name" type="text" placeHolder="Subscription name"> </ion-input>
                </ion-item>
                <ion-item>
                  <ion-input formControlName="price" type="number" placeHolder="Price/month"> </ion-input>
                </ion-item>
                <div class="selecter" *ngIf="existingSubscriptions.length > 0">
                  <ion-select formControlName="subscriptionReference" placeholder="Choose existing subscription">
                    <ion-select-option *ngFor="let sub of existingSubscriptions">
                      {{ sub.name }}
                    </ion-select-option>
                  </ion-select>
                </div>
              </div>
              <ion-button [disabled]="form.invalid" id="submit" size="large" type="submit" color="success" expand="block"
                >Create subscription
              </ion-button>
            </form>
          </div>
        </div>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-items-center ion-align-items-end">
      <ion-col size-lg="14">
        <div>
          <div class="ion-text-center">
            <h1>Existing subscriptions</h1>
          </div>
          <div>
            <div class="ion-text-center" *ngIf="existingSubscriptions.length == 0">
              <h3>No existing subscriptions</h3>
            </div>
            <ion-list *ngIf="existingSubscriptions.length > 0">
              <ion-card *ngFor="let subscription of existingSubscriptions">
                <ion-grid>
                  <ion-row>
                    <ion-col>
                      <ion-card-header>
                        <ion-card-title>{{ subscription.name }}</ion-card-title>
                      </ion-card-header>
                    </ion-col>
                    <ion-col size="3" class="center-align">
                      <ion-card-header>
                        <ion-card-subtitle>{{ subscription.price + '/month' }}</ion-card-subtitle>
                      </ion-card-header>
                    </ion-col>
                    <ion-col class="ion-text-center right-side-align">
                      <ion-button color="success">Edit</ion-button>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card>
            </ion-list>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-col>
</ion-grid>
